version: "2.0"
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false
intents:
  - stop
  - inform_occupation
  - inform_satisfaction
  - inform_frequency
  - survey
  - affirm
  - greet
  - mood_great
  - chitchat
  - deny
  - ask_price
  - explain
  - mood_bad
  - goodbye
  - ask_how_i_feel
  - confirm
  - thankyou
  - ask_encodice
  - suggest_topic
  - ask_info
  - inform_interest
  - sign_up
entities:
  - frequency
  - occupation
  - satisfaction
slots:
  occupation:
    type: text
    influence_conversation: false
  frequency:
    type: text
    influence_conversation: true
  notifications:
    type: bool
    influence_conversation: false
  requested_slot:
    type: categorical
    influence_conversation: true
    values:
      - occupation
      - frequency
  recommend:
    type: bool
    influence_conversation: false
  satisfaction:
    type: text
    influence_conversation: false
  interest:
    type: categorical
    influence_conversation: true
    values:
      - Energía renovable
      - Almacenamiento de energía
      - Sistemas de energía

responses:
  utter_greet:
    - text: ¡Hola! ¿En qué puedo ayudarte?
    - text: ¡Bienvenido! ¿Cómo puedo ayudarte?
  utter_happy:
    - text: ¡Genial, continúa así!
  utter_ask_occupation:
    - text: ¿Cuál es tu ocupación?
  utter_ask_frequency:
    - text: ¿Con qué frecuencia visitas nuestro sitio web?
  utter_ask_notifications:
    - text: ¿Encontraste la información que buscabas en el sitio web?
      buttons:
        - title: Si
          payload: /affirm
        - title: No
          payload: /deny
  utter_ask_recommend:
    - text: ¿Recomendarías este sitio web a otras personas?
      buttons:
        - title: Si
          payload: /affirm
        - title: No
          payload: /deny
  utter_ask_satisfaction:
    - text: ¿Qué tan satisfecho estuvo con el diseño y la presentación del sitio web?
  utter_survey_done:
    - text: ¡Es todo! Muchas gracias por tu opinión.
  utter_ask_continue:
    - text: Perdón, no lo entendí muy bien. ¿Quieres continuar?
  utter_price_for_once_a_week:
    - text: Usar Encodice no tiene costo
  utter_price_for_twice_a_week:
    - text: Encodice es gratuito
  utter_explain_occupation:
    - text: Tus respuestas nos ayudan a mejorar el contenido de Encodice.
  utter_explain_frequency:
    - text: Tus respuestas nos ayudan a mejorar el sitio
  utter_ask_user_question:
    - text: ¿Cómo te sientes?
  utter_great:
    - text: ¡Me alegro de escuchar eso!
  utter_bad:
    - text: Lamento escuchar eso.
  utter_goodbye:
    - text: Adiós
  utter_ask_confirm:
    - text: ¿Realmente quieres confirmar esto?
  utter_confirmed:
    - text: Confirmado.
  utter_encodice:
    - text: Encodice es un sitio web en el que encontrarás grupos de temas relacionados a la ingeniería sustentable y una comunidad de usuarios para compartir publicaciones y comentarios.
    - text: El objetivo de Encodice es facilitar el aprendizaje en el campo de la ingeniería ecológica acercando a expertos y principiantes a una comunidad activa.
  utter_ask_interest:
    - text: Claro, ¿cuáles son tus intereses?
        -> Energía renovable
        -> Almacenamiento de energía
        -> Sistemas de energía
  utter_topics:
    - condition:
        - type: slot
          name: interest
          value: "Energía renovable"
      text: "Aquí están algunos temas sobre <b>Energía renovable<b>: <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/Fotovoltaica'>Fotovoltaica y Energía Solar</a>, <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/Energía_Eólica'>Energía eólica</a>, <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/EnergíaHidroeléctrica'>Energía hidroeléctrica</a>, <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/Energía_Geotérmica'>Energía geotérmica</a>, <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/Bioenergía'>Bioenergía</a>"
    - condition:
        - type: slot
          name: interest
          value: "Almacenamiento de energía"
      text: "Aquí está un tema sobre <b>Almacenamiento de energía<b>: <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/Baterías'>Baterías</a>, <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/Hidrógeno'>Hidrógeno</a>"
    - condition:
        - type: slot
          name: interest
          value: "Sistemas de energía"
      text: "Aquí están algunos temas sobre <b>Sistemas de energía<b>: <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/ModeladoYOptimización'>Modelado y Optimización Energética</a>, <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/Monitoreo_de_Energía'>Monitoreo y Control de Energía</a>, <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/Distribución_Energía'>Distribución de Energía y Redes</a>, <a href='https://phenomenal-taffy-a2b83e.netlify.app/tema/Sistemas_Energéticos'>Conjuntos de datos sobre sistemas energéticos</a>"
  utter_ask_survey:
    - text: Gracias! Tu opinión es importante para nosotros. ¿Nos ayudarías respondiendo una breve encuesta?
  utter_info:
    - text: ¿Sobre qué necesitas información?
    - text: Puedo darte información. ¿Qué es lo que buscas?
  utter_sign_up:
    - text: Puedes crear una cuenta dando click al botón "Regístrate" en la esquina superior derecha.
actions:
  - submit_newsletter_form
  - utter_ask_survey
  - utter_survey_done
  - validate_newsletter_form
forms:
  newsletter_form:
    required_slots:
      occupation:
        - type: from_entity
          entity: occupation
      frequency:
        - type: from_entity
          entity: frequency
      notifications:
        - type: from_intent
          intent: affirm
          value: true
        - type: from_intent
          intent: deny
          value: false
      recommend:
        - type: from_intent
          intent: affirm
          value: true
        - type: from_intent
          intent: deny
          value: false
      satisfaction:
        - type: from_entity
          entity: satisfaction
