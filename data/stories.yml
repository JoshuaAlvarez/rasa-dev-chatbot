version: "2.0"

stories:
  - story: happy path
    steps:
      - intent: greet
      - action: utter_greet
      - intent: mood_great
      - action: utter_happy

  - story: newsletter form continue
    steps:
      - intent: subscribe
      - action: newsletter_form
      - active_loop: newsletter_form
      - intent: chitchat
      - action: utter_ask_continue
      - intent: affirm
      - action: newsletter_form

  - story: newsletter form stop
    steps:
      - intent: subscribe
      - action: newsletter_form
      - active_loop: newsletter_form
      - intent: chitchat
      - action: utter_ask_continue
      - intent: deny
      - action: action_deactivate_loop
      - active_loop: null

  - story: interactive_story_1
    steps:
      - intent: subscribe
      - action: newsletter_form
      - active_loop: newsletter_form
      - slot_was_set:
          - requested_slot: email
      - slot_was_set:
          - email: developer@email.com
      - slot_was_set:
          - email: developer@email.com
      - slot_was_set:
          - requested_slot: frequency
      - intent: chitchat
      - action: utter_ask_continue
      - intent: affirm
      - action: newsletter_form
      - slot_was_set:
          - requested_slot: frequency
      - slot_was_set:
          - frequency: once a week
      - slot_was_set:
          - requested_slot: null
      - active_loop: null
      - action: utter_subscribed

  - story: interactive_story_2
    steps:
      - intent: subscribe
      - action: newsletter_form
      - active_loop: newsletter_form
      - slot_was_set:
          - requested_slot: email
      - intent: chitchat
      - action: utter_ask_continue
      - intent: affirm
      - action: newsletter_form
      - slot_was_set:
          - requested_slot: email
      - slot_was_set:
          - requested_slot: frequency
      - intent: chitchat
      - action: utter_ask_continue
      - intent: affirm
      - action: newsletter_form
      - slot_was_set:
          - requested_slot: frequency
      - active_loop: null
      - action: utter_subscribed
